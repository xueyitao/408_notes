### 3.3 差错控制
>3.3.1 检错编码
1. 奇偶校验码
    1. 假设要发送的数据有n bit 数据那么会在数据的开头或者数据的结尾插入一个bit的检验位
    2. 奇偶校验码氛围奇校验码和偶校验码
        - 奇校验码指的是 插入了一位检验码后整个 n+1位数据 有 奇数个"1"
            - 例如 有一个7b的数据 1101001 此时数据中的1的个数为：4 如果使用的是奇校验码的话就需要在末尾或者开头插入一位“1“来使整个数据+检验码的中 1 的个数为奇数个
        - 偶校验码与奇校验码类似  不同的点是加上一位检验码后 数据+检验码中 1 的个数为偶数个
    3. **奇偶校验码的仅仅能检测出来奇数位的出错情况，但无法知道哪里错了.**

2. 循环冗余码（CRC 码）

    1. 循环冗余码的基本思想:
        - 数据的收发双方共同约定一个表达式G(x) **系数最高为1**该表达式用来进行最后接收方的校验以及**冗余码的计算**
          - 例:G(x) = x^3^+x^2^+1 该表达式表示的位串为 1101(该表达式的系数)
        - 发送方基于要发送的数据以及G(x) 计算出冗余码 然后附在数据末尾一起发送
        - 接收方收到数据和冗余码后通过G(x)来计算收到的数据和冗余码是否产生差错
    2. CRC码的生成
        - 假设数据有m位 表达式G(x) =  x^3^+x^2^+1  表达式的表示位串位1101
            1. 在m位数据后面添加r个0 **r为表达式的最高次幂** 在本例中r为3
            2. 然后使用m+n位的0对 表达式位串进行模二除
            3. 得到比表达式位串少一位的**余数**,该余数就是CRC码(循环冗余码) ==**不是商!!!!**==
            4. 将CRC码附加到m位数据后面发送过去
        - 例:
            - 设数据M=101001即m=6 表达式G(x) =  x^3^+x^2^+1  表达式的表示位串1101 即 r=3
            - 将M后面添加3个0 变成 101001000 对表示位串 1101 进行模二除
            - 计算如下
                - <img src="E:\学习资料\408_notes\image\e835c7807df5feacdc341119d8d0779.jpg" alt="e835c7807df5feacdc341119d8d0779" style="zoom:33%;" />
                - 得到商110101 余数为001 其中==商没什么用== 
                - 将余数附加到数据M后 得到新的M即最后发送出去的数据为**101001001**
    3. 接收方对数据的校验
        - 接收方收到数据对表示位串 1101 进行模二除 得到的余数为0 即为出错 若有余数则有错误
        - 无错误情况余数为0
            - <img src="E:\学习资料\408_notes\image\0bbff5f8a7fa927b1c1f0e003a77df4.jpg" alt="0bbff5f8a7fa927b1c1f0e003a77df4" style="zoom:33%;" />

3. > 海明校验码  // todo 